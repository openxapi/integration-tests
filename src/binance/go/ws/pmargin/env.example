# Binance Portfolio Margin WebSocket Integration Tests Environment Configuration

# =============================================================================
# BINANCE API CREDENTIALS
# =============================================================================
# Your Binance API Key (required for authenticated operations)
BINANCE_API_KEY=your_api_key_here

# Your Binance Secret Key (required for authenticated operations)
BINANCE_SECRET_KEY=your_secret_key_here

# =============================================================================
# PORTFOLIO MARGIN WEBSOCKET CONFIGURATION
# =============================================================================
# Listen Key for Portfolio Margin User Data Stream
# This must be obtained from the REST API before connecting to the WebSocket
# Example: curl -X POST 'https://fapi.binance.com/fapi/v1/listenKey' -H 'X-MBX-APIKEY: your_api_key'
BINANCE_LISTEN_KEY=your_listen_key_here

# WebSocket Server URL (optional - defaults to mainnet)
# Default: wss://fstream.binance.com/pm/ws/{listenKey}
BINANCE_WS_SERVER_URL=wss://fstream.binance.com/pm/ws/{listenKey}

# =============================================================================
# TEST CONFIGURATION
# =============================================================================
# Test timeout in seconds (optional - defaults to 30)
TEST_TIMEOUT=30

# Log level for tests (optional - defaults to INFO)
# Options: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 1. Copy this file to env.local:
#    cp env.example env.local
#
# 2. Edit env.local with your actual API credentials
#
# 3. Obtain a listen key from the REST API:
#    For Portfolio Margin:
#    curl -X POST 'https://fapi.binance.com/fapi/v1/listenKey' \
#         -H 'X-MBX-APIKEY: your_api_key_here'
#
# 4. Add the listen key to env.local as BINANCE_LISTEN_KEY
#
# 5. Source the environment file before running tests:
#    source env.local
#
# 6. Run the tests:
#    go test -v -run TestFullIntegrationSuite ./...

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
# - Portfolio Margin WebSocket requires a valid listen key from the REST API
# - Listen keys expire after 60 minutes and need to be refreshed
# - All tests require real API credentials as there's no sandbox for WebSocket
# - Some tests may be skipped if listen key is not available
# - Tests will connect to live Binance servers

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - Never commit your actual API credentials to version control
# - Keep your env.local file private and secure
# - Use API keys with minimal required permissions
# - Consider using IP restrictions on your API keys
# - Regularly rotate your API credentials

# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# Common issues:
# 1. "Listen key required" - Make sure BINANCE_LISTEN_KEY is set
# 2. "Connection failed" - Check your internet connection and API key
# 3. "Invalid listen key" - Obtain a fresh listen key from the REST API
# 4. "Tests skipped" - Some tests require specific environment variables